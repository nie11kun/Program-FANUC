%
O8100(Tool Setting) 
N5M444P500
N8#741=0
G92X#5021Z#5022 
N10IF[#900EQ0]GOTO50
N12IF[#606NE0]GOTO50
N15G90G01Z[#902+#900]F2000
N50#717=#5022(Z_CURRENT)
N51IF[[#5022GT#604]OR[#5022LT#605]]GOTO400(ERROR) 
N180IF[#606NE0]GOTO220(second tool set) 
N190G92X#5021Z#5022 
N200G90G01X[#608+#611]F2000 
N210G01X#608F#615 
N211GOTO280 
N220(Second tool set) 
N221#640=ABS[#710-#717](Second tool set)
N222#641=#640/#706
N223#642=#641-FIX[#641] 
N224#642=#642*360+#760
N225IF[#642GE360]THEN#642=#642-360
N226G90G01C#642F[#987*360](Second tool set) 
N240G90G01X[#780+#591]F2000 
N250G01X#780F#615(Second tool set)
N251(Second tool set,finish1 )
N280#640=ABS[#711-#717] 
N300#641=#640/#706
N310#642=#641*360 
N390G91G01C[#602*#642]Z[-1*#640]F[#987*360] 
N391G90G01X[#608+#611]F2000 
N392#753=#5121(READ X_DRF)
N393#754=#5122(READ Z_DRF)
N395M445
N399GOTO410(END)
N400#3000=6(Not in the work area )
N410G04X999 
N420M99 
%