%
O8400(Tool Setting Calc)
N40(MARK1)
N120IF[#606NE0]THEN#780=#780+#753(NOT FIRST)
N130G4X0.1
N131IF[[#900NE0]AND[#606EQ0]]THEN#902=#902+#754 
N133G65P8000
N136IF[#606NE0]GOTO220(not first,goto C_ANG calculate)
N140#685=ABS[#681-#710] 
N150#686=#685/#706
N160#687=FIX[#686]
N170#688=#686-#687
N180#689=#701*#688
N190#760=#682-#689(Right and Left,FIRST,initial C_ANG calculate)
N195IF[#602EQ-1]THEN#760=#682+#689
N200IF[#760GE360]THEN#760=#760-#701 
N210IF[#760LT0]THEN#760=#760+#701(compare with 360) 
N215GOTO240(First end)
N220IF[#602EQ1]THEN#760=#760+#754/#706*#701(Right,not first,initial C_ANG calculate)
N221IF[[#602EQ1]AND[#900NE0]]THEN#760=#760-[#604-#984]/#706*#701
N222IF[#602EQ1]GOTO227
N223#760=#760-#754/#706*#701(Left,not first,initial C_ANG calculate)
N225IF[#900NE0]THEN#760=#760-[#985-#605]/#706*#701
N227IF[#760LT0]THEN#760=#760+360
N229IF[#760GE360]THEN#760=#760-360(compare with 360)
N240G92X#5021Z#5022(DRFOF)
N250GOTO930(END)
N930(END) 
N940#606=12345
N961G92X#5021Z#5022(DRFOF)
N962#753=0
N963#754=0
N965#985=#605 
N967#984=#604 
N970M99 
%